<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="svghelper.js"></script>
    <style>
      .container{
        display: block;
        border: solid 1px black;
        width: 90vw;
      }
    </style>
  </head>
  <body>
    <button>asdasdsadsadsad</button>
    <div class="container">
      <svg
        viewBox="-10 -10 520 520"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xml:space="preserve"
      >
<!--       <ellipse cx="100" cy="70" rx="85" ry="55" stroke="green" fill="none"/>
      <rect x="50" y="100" width="200" height="100" stroke="blue" fill="none"/>
      <circle cx="280" cy="80" r="80" fill="none" stroke="red"/> -->
      <g id="grids">
        <line x1=" 0" y1=" 0" x2="500" y2=" 0" stroke="black" stroke-width=".1"/>
        <line x1=" 0" y1="50" x2="500" y2="50" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="100" x2="500" y2="100" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="150" x2="500" y2="150" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="200" x2="500" y2="200" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="250" x2="500" y2="250" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="300" x2="500" y2="300" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="350" x2="500" y2="350" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="400" x2="500" y2="400" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="450" x2="500" y2="450" stroke="black" stroke-width=".1"/>
        <line x1="0" y1="500" x2="500" y2="500" stroke="black" stroke-width=".1"/>

        <line x1=" 0" y1="0" x2=" 0" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="50" y1="0" x2="50" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="100" y1="0" x2="100" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="150" y1="0" x2="150" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="200" y1="0" x2="200" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="250" y1="0" x2="250" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="300" y1="0" x2="300" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="350" y1="0" x2="350" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="400" y1="0" x2="400" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="450" y1="0" x2="450" y2="500" stroke="black" stroke-width=".1"/>
        <line x1="500" y1="0" x2="500" y2="500" stroke="black" stroke-width=".1"/>
      </g>

      <g id="features"> 
        <rect id="refElem" x="100" y="100" width="300" height="200" rx="0" fill="white" stroke-width="1" stroke="black" opacity=".5"/>
      </g>



<!--       <circle cx="0" cy="0" r="5" fill="red" opacity="0.5" />
      <circle cx="0" cy="0" r="5" fill="red" opacity="0.5" transform="translate(100 0)"/>
      <rect id="myElem1" x="0" y="0" width="50" height="50" rx="0" fill="red" stroke-width="1" opacity=".5" stroke="black"
      transform="translate(100 0) scale(.8)"
      transform-origin="0 0"
      />
      <rect id="myElem1x" x="0" y="0" width="50" height="50" rx="0" fill="none" stroke-width="1" opacity=".9" stroke="red"
      stroke-dasharray="3 3"
      transform="translate(100 0)"
      transform-origin="0 0"
      />
      



      <circle cx="50" cy="50" r="5" fill="green" opacity="0.5" />
      <circle cx="50" cy="50" r="5" fill="green" opacity="0.5" transform="translate(100 0)"/>
      <rect id="myElem2" x="0" y="100" width="50" height="50" rx="0" fill="green" stroke-width="1" opacity=".5" stroke="black"
      transform="translate(100 0) scale(.8)"
      transform-origin="50 50"
      />
      <rect id="myElem2x" x="0" y="100" width="50" height="50" rx="0" fill="none" stroke-width="1" opacity=".9" stroke="green"
      stroke-dasharray="3 3"
      transform="translate(100 0)"
      transform-origin="50 50"
      />




      <circle cx="100" cy="100" r="5" fill="purple" opacity="0.5" />
      <circle cx="100" cy="100" r="5" fill="purple" opacity="0.5" transform="translate(100 0)"/>
      <rect id="myElem3" x="0" y="200" width="50" height="50" rx="0" fill="purple" stroke-width="1" opacity=".5" stroke="black"
      transform="translate(100 0) scale(.8)"
      transform-origin="100 100"
      />
      <rect id="myElem3x" x="0" y="200" width="50" height="50" rx="0" fill="none" stroke-width="1" opacity=".9" stroke="purple"
      stroke-dasharray="3 3"
      transform="translate(100 0)"
      transform-origin="100 100"
      /> -->

      <rect id="blueElem" x="0" y="0" width="50" height="50" rx="0" fill="blue" stroke-width="1" opacity=".5" stroke="black"
      transform=""
      transform-origin=""
      />

      </svg>

    </div>
  <script>


/*     let svg = document.querySelector("svg")
    let myElem = document.getElementById("myElem")
    SVGHelper.scale(svg, myElem, {scaleFactor: .5, align: "top-left"}) */

    let refElem = document.getElementById("refElem")
    let floatingElem = document.getElementById("blueElem")

    SVGHelper.transformElementOutside(refElem, floatingElem)




  </script>
  </body>
</html>
